[gcode_macro NOTIFY_LAYER_CHANGE]
gcode:
  {% set LAYER_NUM = params.LAYER_NUM|int %}
  {% set TOTAL_LAYER_COUNT = params.TOTAL_LAYER_COUNT|int %}
  {% set PROGRESS = (LAYER_NUM / TOTAL_LAYER_COUNT * 100)|int %}
  {% if LAYER_NUM > 0 and PROGRESS % 10 == 0 %}
  {action_call_remote_method("notify",
                             name="pushover_notifier",
                             message=PROGRESS|string + "% done.")}
  {% endif %}
